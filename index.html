<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Spielauswahl</title>
<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg, #3b82f6, #60a5fa);
    color: white;
    text-align: center;
  }

  h1 {
    margin-top: 30px;
    font-size: 2em;
  }

  .menu {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    margin-top: 40px;
    gap: 20px;
  }

  .game-btn {
    background: #1e293b;
    border: none;
    color: white;
    font-size: 1.2em;
    padding: 20px 30px;
    border-radius: 15px;
    width: 220px;
    transition: 0.3s;
  }

  .game-btn:hover {
    background: #334155;
    transform: scale(1.05);
    cursor: pointer;
  }

  iframe {
    border: none;
    width: 100%;
    height: 70vh;
    display: none;
  }

  #backBtn {
    display: none;
    margin: 20px auto;
    padding: 10px 20px;
    font-size: 18px;
    background: #ef4444;
    border: none;
    color: white;
    border-radius: 10px;
  }

  #backBtn:hover {
    background: #dc2626;
    cursor: pointer;
  }
</style>
</head>
<body>

<h1>üéÆ Spiele-Auswahl</h1>

<div class="menu" id="menu">
  <button class="game-btn" onclick="startGame('geometry')">‚¨õ Geometry Dash</button>
  <button class="game-btn" onclick="startGame('catch')">üî¥ Catch the Ball</button>
  <button class="game-btn" onclick="startGame('pong')">üèì Mini Pong</button>
</div>

<button id="backBtn" onclick="goBack()">‚¨ÖÔ∏è Zur√ºck zur Auswahl</button>

<iframe id="gameFrame"></iframe>

<script>
function startGame(game) {
  const frame = document.getElementById("gameFrame");
  const menu = document.getElementById("menu");
  const backBtn = document.getElementById("backBtn");

  menu.style.display = "none";
  backBtn.style.display = "block";
  frame.style.display = "block";

  // Verschiedene Spiele einbetten
  if (game === "geometry") {
    frame.srcdoc = `
      <style>
        body { margin:0; overflow:hidden; background:#87ceeb; touch-action:none; }
        canvas { display:block; background:#87ceeb; margin:0 auto; }
      </style>
      <canvas id='c'></canvas>
      <script>
        const c=document.getElementById('c');
        const ctx=c.getContext('2d');
        c.width=innerWidth; c.height=innerHeight*0.7;
        const player={x:50,y:c.height-60,w:40,h:40,dy:0,g:0.6,j:11,ground:true};
        let obs=[],spd=6,score=0;
        function jump(){if(player.ground){player.dy=-player.j;player.ground=false;}}
        document.addEventListener('keydown',e=>{if(e.code==='Space')jump()});
        c.addEventListener('touchstart',jump);
        function createObs(){obs.push({x:c.width,y:c.height-50,w:30,h:40});}
        function reset(){obs=[];score=0;}
        function loop(){
          ctx.clearRect(0,0,c.width,c.height);
          player.dy+=player.g;player.y+=player.dy;
          if(player.y+player.h>c.height){player.y=c.height-player.h;player.dy=0;player.ground=true;}
          if(Math.random()<0.02)createObs();
          for(let i=obs.length-1;i>=0;i--){
            let o=obs[i];o.x-=spd;
            ctx.fillStyle='red';ctx.fillRect(o.x,o.y,o.w,o.h);
            if(o.x+o.w<0){obs.splice(i,1);score++;}
            if(player.x<o.x+o.w&&player.x+player.w>o.x&&player.y<o.y+o.h&&player.y+player.h>o.y)reset();
          }
          ctx.fillStyle='black';ctx.fillRect(player.x,player.y,player.w,player.h);
          ctx.fillStyle='black';ctx.font='20px Arial';ctx.fillText('Punkte: '+score,20,30);
          requestAnimationFrame(loop);
        }loop();
      <\/script>`;
  } 
  else if (game === "catch") {
    frame.srcdoc = `
      <style>
        body { margin:0; overflow:hidden; background:#eee; touch-action:none; }
        canvas { display:block; margin:0 auto; border:3px solid #333; background:#fafafa; }
      </style>
      <canvas id='cv'></canvas>
      <script>
        const cv=document.getElementById('cv');const ctx=cv.getContext('2d');
        cv.width=innerWidth*0.9;cv.height=innerHeight*0.6;
        const p={x:cv.width/2-40,y:cv.height-30,w:80,h:20,s:6};
        const balls=[];let score=0;
        function makeBall(){balls.push({x:Math.random()*cv.width,y:0,r:10,s:3+Math.random()*2});}
        const keys={};document.addEventListener('keydown',e=>keys[e.key]=true);
        document.addEventListener('keyup',e=>keys[e.key]=false);
        let left=false,right=false;
        cv.addEventListener('touchstart',e=>{
          const x=e.touches[0].clientX;
          if(x<cv.width/2)left=true; else right=true;
        });
        cv.addEventListener('touchend',()=>{left=false;right=false;});
        function loop(){
          ctx.clearRect(0,0,cv.width,cv.height);
          if((keys['ArrowLeft']||left)&&p.x>0)p.x-=p.s;
          if((keys['ArrowRight']||right)&&p.x+p.w<cv.width)p.x+=p.s;
          if(Math.random()<0.02)makeBall();
          for(let i=balls.length-1;i>=0;i--){
            let b=balls[i];b.y+=b.s;
            if(b.y+b.r>p.y&&b.x>p.x&&b.x<p.x+p.w){score++;balls.splice(i,1);}
            else if(b.y>cv.height)balls.splice(i,1);
          }
          ctx.fillStyle='#333';ctx.fillRect(p.x,p.y,p.w,p.h);
          ctx.fillStyle='red';for(const b of balls){ctx.beginPath();ctx.arc(b.x,b.y,b.r,0,Math.PI*2);ctx.fill();}
          ctx.fillStyle='#000';ctx.font='20px Arial';ctx.fillText('Punkte: '+score,20,30);
          requestAnimationFrame(loop);
        }loop();
      <\/script>`;
  } 
  else if (game === "pong") {
    frame.srcdoc = `
      <style>
        body{margin:0;overflow:hidden;background:#000;}
        canvas{display:block;margin:auto;}
      </style>
      <canvas id='p'></canvas>
      <script>
        const c=document.getElementById('p'),ctx=c.getContext('2d');
        c.width=innerWidth*0.9;c.height=innerHeight*0.6;
        const paddle={x:c.width/2-50,y:c.height-20,w:100,h:10,s:7};
        const ball={x:c.width/2,y:c.height/2,r:8,dx:4,dy:4};
        document.addEventListener('mousemove',e=>paddle.x=e.clientX-paddle.w/2);
        c.addEventListener('touchmove',e=>{paddle.x=e.touches[0].clientX-paddle.w/2});
        function loop(){
          ctx.fillStyle='black';ctx.fillRect(0,0,c.width,c.height);
          ctx.fillStyle='white';ctx.fillRect(paddle.x,paddle.y,paddle.w,paddle.h);
          ball.x+=ball.dx;ball.y+=ball.dy;
          if(ball.x<0||ball.x>c.width)ball.dx*=-1;
          if(ball.y<0)ball.dy*=-1;
          if(ball.y+ball.r>paddle.y&&ball.x>paddle.x&&ball.x<paddle.x+paddle.w)ball.dy*=-1;
          if(ball.y>c.height){ball.x=c.width/2;ball.y=c.height/2;}
          ctx.beginPath();ctx.arc(ball.x,ball.y,ball.r,0,Math.PI*2);ctx.fill();
          requestAnimationFrame(loop);
        }loop();
      <\/script>`;
  }
}

function goBack() {
  document.getElementById("menu").style.display = "flex";
  document.getElementById("gameFrame").style.display = "none";
  document.getElementById("backBtn").style.display = "none";
  document.getElementById("gameFrame").srcdoc = "";
}
</script>

</body>
</html>
